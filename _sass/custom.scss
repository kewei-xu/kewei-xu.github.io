/* 可调参数 */
:root{
  --pub-thumb-w: 140px;     /* 缩略图宽度 */
  --pub-thumb-h: 140px;     /* 缩略图高度（16:9 可用 140x79、160x90 等） */
  --pub-gap: 14px;          /* 图文间距 */
  --pub-thumb-offset: .20rem; /* 向下微调，让图片顶部与标题更对齐；想更低就增大 */
}

/* 宽屏：两列布局 */
.archive__item .pub-item{
  display: grid;
  grid-template-columns: var(--pub-thumb-w, 140px) 1fr;
  gap: var(--pub-gap, 14px);
  align-items: start;
}

/* 缩略图样式 */
.pub-thumb{
  align-self: start;
  margin-top: var(--pub-thumb-offset, .2rem);
}
.pub-thumb img{
  display: block;
  width: var(--pub-thumb-w, 140px);
  height: var(--pub-thumb-h, 100px);
  object-fit: cover;
  border-radius: 8px;
  box-shadow: 0 1px 2px rgba(0,0,0,.12);
}

/* 窄屏：改为单列，缩略图占满一行并显示在最上方 */
@media (max-width: 520px){
  .archive__item .pub-item{
    grid-template-columns: 1fr;   /* 单列 */
  }
  .pub-thumb{
    grid-column: 1 / -1;          /* 跨整行，排在最上面 */
    margin: 0 0 .5rem 0;
    display: block !important;    /* 覆盖任何早先的隐藏 */
  }
  .pub-thumb img{
    width: 100%;                  /* 撑满容器宽度 */
    height: auto;                 /* 高度自适应 */
    aspect-ratio: 16 / 9;         /* 保持比例（可去掉） */
    object-fit: cover;
  }
}

/* 控制 publication 列表标题样式 */
.pub-body .archive__item-title {
  font-size: 1.1rem;      /* 默认大约是 1.5rem，可在 1.1–1.4rem 之间微调 */
  font-weight: 700;        /* 字体加粗：400=常规，500=中等，700=粗体 */
  line-height: 1.3;        /* 控制上下行之间的距离 */
  margin: 0 0 0.5rem;      /* 与下面作者行的间距 */
  color: var(--global-text-color);  /* 保持主题自适应颜色（亮/暗模式） */
}


/* 作者行：跟随主题变量变色 */
.archive__item .author-line {
  font-size: 0.95em;
  font-weight: 400;
  margin: 0.25em 0;
  color: var(--global-text-color); /* 整行默认文字色（会随主题变） */
}

/* “Author:” 标签 */
.author-line .author-label {
  color: var(--global-text-color);
  font-weight: 600;
  margin-right: .25rem;
}

/* 无链接作者（淡一点） */
.author-line .author-nolink {
  color: var(--global-text-color);
}

/* 有链接作者：颜色与 hover 使用全站链接变量；下划线开启 */
.author-line .author-link {
  color: var(--global-masthead-link-color);
  text-decoration: underline;
}
.author-line .author-link:hover {
  color: var(--global-masthead-link-color-hover);
  text-decoration-thickness: 2px;
}


/* 仅关闭“标题”的下划线与 hover 效果（不影响其它链接） */
.archive__item-title,
.archive__item-title a {
  text-decoration: none !important;
  border-bottom: 0 !important;
}

/* 主题常见：卡片 hover 时给标题加下划线，精准取消 */
.archive__item:hover .archive__item-title,
.archive__item:focus-within .archive__item-title,
.archive__item:hover .archive__item-title a,
.archive__item:focus-within .archive__item-title a {
  text-decoration: none !important;
  border-bottom: 0 !important;
}

/* 若主题使用“整卡可点击”的隐藏链接/覆盖层，只把它禁掉显示效果（不影响正文其它链接） */
.archive__item a[rel="permalink"],
.archive__item a.archive__item-link,
.archive__item a.stretched-link {
  text-decoration: none !important;
  border-bottom: 0 !important;
}
.archive__item a[rel="permalink"]::before,
.archive__item a[rel="permalink"]::after,
.archive__item a.archive__item-link::before,
.archive__item a.archive__item-link::after,
.archive__item a.stretched-link::before,
.archive__item a.stretched-link::after {
  content: none !important;
}



.pub-body {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;  /* 全局控制每行之间的间距，可改为 0.2~0.4rem 微调 */
}

/* 单独调节标题与首行之间的关系 */
.pub-body .archive__item-title {
  margin-bottom: 0.15rem;   /* 标题下方距离更小 */
  line-height: 1.2;
}

/* 段落(p)、作者行等间距更紧 */
.pub-body p,
.pub-body .page__meta,
.pub-body .author-line {
  margin: 0.05rem 0 !important;  /* 统一上下间距 */
  line-height: 1.35;             /* 更紧凑的行距 */
}

/* 让“Published in …”与链接区的距离更小 */
.pub-body p:last-child {
  margin-bottom: 0.05rem !important;
}

/* 紧凑段落间距控制 */
.pub-body p + p {
  margin-top: 0.05rem;  /* 控制 Published in 与 DOI 之间距离 */
}

/* 含链接的最后一段（DOI/Author version 等）额外靠近上方 */
.pub-body p:has(a) {
  margin-top: 0.05rem !important;
  margin-bottom: 0.05rem !important;
}

/* 可选：让字体稍微小一点（如不想改可删除） */
.pub-body p {
  font-size: 0.9rem;
}


// /* ===== Publications 各条目之间的间距 ===== */
// .layout--archive .page__title {
//   margin-bottom: 5.0rem;
// }
// /* 每篇 publication 之间留出明显空间 */
// .archive__item {
//   margin-bottom: 5.0rem;   /* 可以改为 1.5~2rem 取视觉最佳 */
//   padding-bottom: 0.75rem;  /* 可选：给每条底部留点内边距 */
//   border-bottom: 1px solid var(--global-base-color); /* 可选：加浅色分隔线 */
// }

/* 如果你不想要分隔线，可把上面那一行删掉。 */

/* 最后一条去掉底部空白与边线（可选） */
.archive__item:last-child {
  margin-bottom: 0;
  border-bottom: none;
}


/* 控制标题与作者行之间的距离 */
.pub-body .archive__item-title {
  margin-bottom: 0.1rem;   /* 默认大约 8px，可改为 0.6–0.8rem 取视觉最佳 */
  line-height: 1.25;       /* 确保标题本身不太挤 */
}

/* 作者行与其下方“Published in …”保持紧凑 */
.pub-body .author-line {
  margin-top: 0;           /* 作者行紧贴标题 */
  margin-bottom: 0.1rem;  /* 与下一行略留空隙 */
}



/* ===== 统一的可调参数 ===== */
:root{
  --pub-gap-title-to-list: 3.0rem;   /* 页面大标题 与 第一条 publication 的距离 */
  --pub-gap-between-cards: 1.0rem;   /* 两条 publication 之间的距离 */
}

/* 1) 页面标题下方的空隙（多给几个备选选择器，确保命中） */
.layout--archive .page__title,
.page__title,
.page-header .page__title,
.page__content > .page__title {
  margin-bottom: var(--pub-gap-title-to-list) !important;
}

/* 2) 两条 publication 之间的间距：加在最外层 .list__item 上最保险 */
.list__item {
  margin-bottom: var(--pub-gap-between-cards);
}
/* 最后一条不留空 */
.list__item:last-child {
  margin-bottom: 0;
}


.list__item {
  padding-bottom: 2.0rem;
  border-bottom: 1px solid var(--global-split-color);
}
.list__item:last-child { border-bottom: none; padding-bottom: 0; }




/* ====== CV 按钮主题自适应样式 ====== */

/* 默认（浅色模式） */
.sidebar .author__cv .btn--primary {
  background-color: var(--global-base-color);
  color: #fff !important;
  border: none;
  transition: background-color 0.2s ease-in-out;
}

.sidebar .author__cv .btn--primary:hover {
  background-color: var(--global-masthead-link-color);
}

/* 暗色模式 */
html[data-theme="dark"] .sidebar .author__cv .btn--primary {
  background-color: var(--global-link-color);
  color: #fff !important;
}

html[data-theme="dark"] .sidebar .author__cv .btn--primary:hover {
  background-color: var(--global-link-color-hover);
}


/* 作者区块使用主题变量，自动适配明暗色 */
// .author-line { color: var(--global-text-color); }
// .author-line .author-label  { color: var(--global-text-color); font-weight: 600; margin-right: .25rem; }
// .author-line .author-nolink { color: var(--global-text-color-light); }
// .author-line .author-link   { color: var(--global-link-color); text-decoration: underline; }
// .author-line .author-link:hover { color: var(--global-link-color-hover); text-decoration-thickness: 2px; }
